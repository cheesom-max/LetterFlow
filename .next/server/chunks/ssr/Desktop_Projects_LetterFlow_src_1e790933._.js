module.exports=[78476,a=>{"use strict";a.s(["DRAFT_STATUS_MAP",0,{draft:{variant:"default",label:"Draft"},review:{variant:"warning",label:"In Review"},scheduled:{variant:"info",label:"Scheduled"},published:{variant:"success",label:"Published"}},"INTEREST_OPTIONS",0,["Technology","Business","Creator","Marketing","Finance","AI & ML","Design","Startup"],"PLATFORM_META",0,{beehiiv:{label:"Beehiiv",description:"Connect your Beehiiv account to publish directly",color:"bg-amber-500"},substack:{label:"Substack",description:"Publish newsletters to your Substack",color:"bg-orange-500"},kit:{label:"Kit (ConvertKit)",description:"Send newsletters via Kit email platform",color:"bg-blue-500"}},"TIMING",0,{DEBOUNCE_MS:2e3,SAVE_DISPLAY_MS:2e3,RSS_CACHE_SEC:3600}])},93579,a=>{"use strict";var b=a.i(80290);let c={sm:"p-4",md:"p-6",lg:"p-8"};function d({children:a,className:d="",padding:e="md",hover:f=!1}){return(0,b.jsx)("div",{className:`bg-white rounded-2xl border border-gray-100 shadow-sm ${f?"hover:shadow-lg hover:border-indigo-100 hover:-translate-y-0.5 transition-all duration-300":"transition-shadow duration-200"} ${c[e]} ${d}`,children:a})}a.s(["default",()=>d])},26027,a=>{"use strict";var b=a.i(80290);let c={default:"bg-gray-100 text-gray-700",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",info:"bg-blue-100 text-blue-700",purple:"bg-indigo-100 text-indigo-700"};function d({children:a,variant:d="default",className:e=""}){return(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c[d]} ${e}`,children:a})}a.s(["default",()=>d])},70947,a=>{"use strict";var b=a.i(6884),c=a.i(48827);function d(){let a=(0,b.useMemo)(()=>(0,c.createBrowserSupabaseClient)(),[]),[d,e]=(0,b.useState)(null),[f,g]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{a.auth.getUser().then(({data:a})=>{e(a.user),g(!1)});let{data:{subscription:b}}=a.auth.onAuthStateChange((a,b)=>{e(b?.user??null)});return()=>b.unsubscribe()},[a]),{supabase:a,user:d,loading:f}}a.s(["useUser",()=>d])},69618,a=>{"use strict";var b=a.i(80290);let c={primary:"bg-gradient-to-r from-indigo-600 to-violet-600 text-white hover:from-indigo-700 hover:to-violet-700 shadow-md shadow-indigo-200 hover:shadow-lg hover:shadow-indigo-300 active:scale-[0.98]",secondary:"bg-white text-gray-700 border border-gray-200 hover:border-indigo-300 hover:text-indigo-600 shadow-sm hover:shadow-md active:scale-[0.98]",ghost:"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50"},d={sm:"px-3.5 py-1.5 text-sm gap-1.5",md:"px-5 py-2.5 text-sm gap-2",lg:"px-7 py-3.5 text-base gap-2"};function e({variant:a="primary",size:e="md",className:f="",children:g,...h}){return(0,b.jsx)("button",{className:`inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer ${c[a]} ${d[e]} ${f}`,...h,children:g})}a.s(["default",()=>e])},66725,a=>{"use strict";var b=a.i(80290),c=a.i(6884);function d({isOpen:a,onClose:d,title:e,children:f}){return((0,c.useEffect)(()=>{let b=a=>{"Escape"===a.key&&d()};return a&&(document.addEventListener("keydown",b),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",b),document.body.style.overflow=""}},[a,d]),a)?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:d}),(0,b.jsxs)("div",{className:"relative w-full max-w-lg mx-4 bg-white rounded-2xl shadow-2xl border border-gray-200 max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:e}),(0,b.jsx)("button",{onClick:d,className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsx)("div",{className:"px-6 py-5",children:f})]})]}):null}a.s(["default",()=>d])},93449,a=>{"use strict";var b=a.i(80290),c=a.i(6884),d=a.i(69618),e=a.i(93579),f=a.i(83308),g=a.i(26027),h=a.i(66725),i=a.i(70947),j=a.i(78476);function k(){let{supabase:a,user:k}=(0,i.useUser)(),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)("beehiiv"),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null);(0,c.useEffect)(()=>{k&&(async()=>{let[b,c]=await Promise.all([a.from("profiles").select("*").eq("id",k.id).single(),a.from("platform_connections").select("*").eq("user_id",k.id)]);b.data&&(m(b.data),w(b.data.full_name||""),y(b.data.newsletter_name||"")),o(c.data||[]),q(!1)})()},[a,k]);let L=async()=>{if(!k)return;s(!0),K(null);let{error:b}=await a.from("profiles").update({full_name:v,newsletter_name:x}).eq("id",k.id);(s(!1),b)?K("Failed to save profile"):(u(!0),setTimeout(()=>u(!1),2e3))},M=async()=>{if(!k||!D)return;I(!0),K(null);let{error:b}=await a.from("platform_connections").insert({user_id:k.id,platform:B,api_key:D,publication_id:F||null,is_active:!0});if(b){K("Failed to connect platform"),I(!1);return}let{data:c}=await a.from("platform_connections").select("*").eq("user_id",k.id);o(c||[]),I(!1),A(!1),E(""),G("")},N=async b=>{if(!confirm("Disconnect this platform?"))return;let{error:c}=await a.from("platform_connections").delete().eq("id",b).eq("user_id",k.id);c?K("Failed to disconnect platform"):o(a=>a.filter(a=>a.id!==b))};return p?(0,b.jsx)("div",{className:"max-w-3xl space-y-8",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:"h-48 bg-gray-100 rounded-2xl animate-pulse"},a))}):(0,b.jsxs)("div",{className:"max-w-3xl space-y-8",children:[(0,b.jsxs)(e.default,{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Profile"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),(0,b.jsx)("input",{type:"text",value:v,onChange:a=>w(a.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,b.jsx)(f.default,{label:"Email",type:"email",value:k?.email||"",disabled:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Newsletter Name"}),(0,b.jsx)("input",{type:"text",value:x,onChange:a=>y(a.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"My Weekly Newsletter"})]}),(0,b.jsxs)("div",{className:"pt-2 flex items-center gap-3",children:[(0,b.jsx)(d.default,{onClick:L,disabled:r,children:r?"Saving...":"Save Changes"}),t&&(0,b.jsx)("span",{className:"text-sm text-green-600",children:"Saved!"}),J&&(0,b.jsx)("span",{className:"text-sm text-red-600",children:J})]})]})]}),(0,b.jsxs)(e.default,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Writing Style Learning"}),(0,b.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-500 rounded-full",children:"Coming Soon"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Upload 5-10 of your past newsletters so AI can learn your tone, structure, and style."}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-8 text-center opacity-60",children:[(0,b.jsx)("svg",{className:"w-10 h-10 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,b.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Drop files here or click to upload"}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Supports .txt, .md, .html, .pdf (max 10 files)"})]}),l?.style_profile&&(0,b.jsxs)("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"text-sm font-semibold text-indigo-700",children:"Style Profile Active"})]}),(0,b.jsx)("p",{className:"text-xs text-indigo-600",children:l.style_profile})]})]}),(0,b.jsxs)(e.default,{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Platform Integrations"}),(0,b.jsx)("div",{className:"space-y-4",children:["beehiiv","substack","kit"].map(a=>{let c=j.PLATFORM_META[a],e=n.find(b=>b.platform===a&&b.is_active);return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 ${c.color} rounded-lg flex items-center justify-center`,children:(0,b.jsx)("span",{className:"text-white font-bold text-xs",children:c.label.charAt(0)})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.label}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:c.description})]})]}),e?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.default,{variant:"success",children:"Connected"}),(0,b.jsx)("button",{onClick:()=>N(e.id),className:"text-xs text-gray-400 hover:text-red-500 cursor-pointer",children:"Disconnect"})]}):(0,b.jsx)(d.default,{variant:"secondary",size:"sm",onClick:()=>{C(a),E(""),G(""),A(!0)},children:"Connect"})]},a)})})]}),(0,b.jsx)(h.default,{isOpen:z,onClose:()=>A(!1),title:`Connect ${j.PLATFORM_META[B]?.label}`,children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"API Key"}),(0,b.jsx)("input",{type:"password",value:D,onChange:a=>E(a.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your API key",required:!0})]}),"beehiiv"===B&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Publication ID"}),(0,b.jsx)("input",{type:"text",value:F,onChange:a=>G(a.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"pub_xxxxxxxx"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,b.jsx)(d.default,{variant:"secondary",onClick:()=>A(!1),className:"flex-1",children:"Cancel"}),(0,b.jsx)(d.default,{onClick:M,disabled:H||!D,className:"flex-1",children:H?"Connecting...":"Connect"})]})]})})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=Desktop_Projects_LetterFlow_src_1e790933._.js.map