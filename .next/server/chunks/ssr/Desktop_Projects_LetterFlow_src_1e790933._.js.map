{"version":3,"sources":["../../../../../../../Desktop/Projects/LetterFlow/src/lib/constants.ts","../../../../../../../Desktop/Projects/LetterFlow/src/components/ui/Card.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/components/ui/Badge.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/hooks/useUser.ts","../../../../../../../Desktop/Projects/LetterFlow/src/components/ui/Button.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/components/ui/Modal.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/app/dashboard/settings/page.tsx"],"sourcesContent":["// OpenAI Model Configuration\nexport const OPENAI_MODELS = {\n  GPT_4O: \"gpt-4o\",\n  GPT_4O_MINI: \"gpt-4o-mini\",\n} as const;\n\n// OpenAI Parameters per function\nexport const OPENAI_PARAMS = {\n  SUMMARIZE: { maxTokens: 200, temperature: 0.3 },\n  SCORE_RELEVANCE: { maxTokens: 10, temperature: 0 },\n  GENERATE_DRAFT: { maxTokens: 2000, temperature: 0.7 },\n  SUBJECT_LINES: { maxTokens: 300, temperature: 0.8 },\n  REWRITE: { maxTokens: 2000, temperature: 0.7 },\n  SHORTEN: { maxTokens: 1500, temperature: 0.3 },\n  TLDR: { maxTokens: 200, temperature: 0.3 },\n} as const;\n\n// Draft Status Configuration\nexport const DRAFT_STATUS_MAP: Record<\n  string,\n  { variant: \"default\" | \"success\" | \"warning\" | \"info\"; label: string }\n> = {\n  draft: { variant: \"default\", label: \"Draft\" },\n  review: { variant: \"warning\", label: \"In Review\" },\n  scheduled: { variant: \"info\", label: \"Scheduled\" },\n  published: { variant: \"success\", label: \"Published\" },\n};\n\n// Platform Configuration\nexport const PLATFORM_META: Record<\n  string,\n  { label: string; description: string; color: string }\n> = {\n  beehiiv: {\n    label: \"Beehiiv\",\n    description: \"Connect your Beehiiv account to publish directly\",\n    color: \"bg-amber-500\",\n  },\n  substack: {\n    label: \"Substack\",\n    description: \"Publish newsletters to your Substack\",\n    color: \"bg-orange-500\",\n  },\n  kit: {\n    label: \"Kit (ConvertKit)\",\n    description: \"Send newsletters via Kit email platform\",\n    color: \"bg-blue-500\",\n  },\n};\n\n// AI Transform Actions\nexport const AI_ACTIONS = [\"rewrite\", \"shorten\", \"tldr\"] as const;\n\n// Default Style Profile\nexport const DEFAULT_STYLE_PROFILE =\n  \"Conversational, engaging tone with short paragraphs and bold key takeaways\";\n\n// API Error Messages\nexport const ERROR_MESSAGES = {\n  UNAUTHORIZED: \"Unauthorized\",\n  MISSING_PARAMS: \"Required parameters missing\",\n  NOT_FOUND: \"Resource not found\",\n  AI_FAILED: \"AI processing failed\",\n  PUBLISH_FAILED: \"Failed to publish\",\n  CURATE_FAILED: \"Failed to curate articles\",\n  DRAFT_FAILED: \"Failed to generate draft\",\n} as const;\n\n// Timing Configuration\nexport const TIMING = {\n  DEBOUNCE_MS: 2000,\n  SAVE_DISPLAY_MS: 2000,\n  RSS_CACHE_SEC: 3600,\n} as const;\n\n// RSS Configuration\nexport const RSS_CONFIG = {\n  MAX_ITEMS: 20,\n  USER_AGENT: \"LetterFlow/1.0\",\n} as const;\n\n// Interest Options for onboarding\nexport const INTEREST_OPTIONS = [\n  \"Technology\",\n  \"Business\",\n  \"Creator\",\n  \"Marketing\",\n  \"Finance\",\n  \"AI & ML\",\n  \"Design\",\n  \"Startup\",\n] as const;\n","interface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  padding?: \"sm\" | \"md\" | \"lg\";\n  hover?: boolean;\n}\n\nconst paddingClasses = {\n  sm: \"p-4\",\n  md: \"p-6\",\n  lg: \"p-8\",\n};\n\nexport default function Card({\n  children,\n  className = \"\",\n  padding = \"md\",\n  hover = false,\n}: CardProps) {\n  return (\n    <div\n      className={`bg-white rounded-2xl border border-gray-100 shadow-sm ${\n        hover\n          ? \"hover:shadow-lg hover:border-indigo-100 hover:-translate-y-0.5 transition-all duration-300\"\n          : \"transition-shadow duration-200\"\n      } ${paddingClasses[padding]} ${className}`}\n    >\n      {children}\n    </div>\n  );\n}\n","type BadgeVariant = \"default\" | \"success\" | \"warning\" | \"info\" | \"purple\";\n\ninterface BadgeProps {\n  children: React.ReactNode;\n  variant?: BadgeVariant;\n  className?: string;\n}\n\nconst variantClasses: Record<BadgeVariant, string> = {\n  default: \"bg-gray-100 text-gray-700\",\n  success: \"bg-green-100 text-green-700\",\n  warning: \"bg-amber-100 text-amber-700\",\n  info: \"bg-blue-100 text-blue-700\",\n  purple: \"bg-indigo-100 text-indigo-700\",\n};\n\nexport default function Badge({\n  children,\n  variant = \"default\",\n  className = \"\",\n}: BadgeProps) {\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variantClasses[variant]} ${className}`}\n    >\n      {children}\n    </span>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport { createBrowserSupabaseClient } from \"@/lib/supabase\";\nimport type { User } from \"@supabase/supabase-js\";\n\nexport function useUser() {\n  const supabase = useMemo(() => createBrowserSupabaseClient(), []);\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    supabase.auth.getUser().then(({ data }) => {\n      setUser(data.user);\n      setLoading(false);\n    });\n\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [supabase]);\n\n  return { supabase, user, loading };\n}\n","import { ButtonHTMLAttributes } from \"react\";\n\ntype Variant = \"primary\" | \"secondary\" | \"ghost\";\ntype Size = \"sm\" | \"md\" | \"lg\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: Variant;\n  size?: Size;\n}\n\nconst variantClasses: Record<Variant, string> = {\n  primary:\n    \"bg-gradient-to-r from-indigo-600 to-violet-600 text-white hover:from-indigo-700 hover:to-violet-700 shadow-md shadow-indigo-200 hover:shadow-lg hover:shadow-indigo-300 active:scale-[0.98]\",\n  secondary:\n    \"bg-white text-gray-700 border border-gray-200 hover:border-indigo-300 hover:text-indigo-600 shadow-sm hover:shadow-md active:scale-[0.98]\",\n  ghost: \"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50\",\n};\n\nconst sizeClasses: Record<Size, string> = {\n  sm: \"px-3.5 py-1.5 text-sm gap-1.5\",\n  md: \"px-5 py-2.5 text-sm gap-2\",\n  lg: \"px-7 py-3.5 text-base gap-2\",\n};\n\nexport default function Button({\n  variant = \"primary\",\n  size = \"md\",\n  className = \"\",\n  children,\n  ...props\n}: ButtonProps) {\n  return (\n    <button\n      className={`inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer ${variantClasses[variant]} ${sizeClasses[size]} ${className}`}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n","\"use client\";\n\nimport { useEffect } from \"react\";\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n}\n\nexport default function Modal({ isOpen, onClose, title, children }: ModalProps) {\n  useEffect(() => {\n    const handleEsc = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleEsc);\n      document.body.style.overflow = \"hidden\";\n    }\n    return () => {\n      document.removeEventListener(\"keydown\", handleEsc);\n      document.body.style.overflow = \"\";\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div className=\"fixed inset-0 bg-gray-900/60 backdrop-blur-sm\" onClick={onClose} />\n      <div className=\"relative w-full max-w-lg mx-4 bg-white rounded-2xl shadow-2xl border border-gray-200 max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-100\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">{title}</h2>\n          <button\n            onClick={onClose}\n            className=\"p-1.5 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n        <div className=\"px-6 py-5\">{children}</div>\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Button from \"@/components/ui/Button\";\nimport Card from \"@/components/ui/Card\";\nimport Input from \"@/components/ui/Input\";\nimport Badge from \"@/components/ui/Badge\";\nimport Modal from \"@/components/ui/Modal\";\nimport { useUser } from \"@/hooks/useUser\";\nimport type { Profile, PlatformConnection } from \"@/lib/database.types\";\nimport { PLATFORM_META } from \"@/lib/constants\";\n\nexport default function SettingsPage() {\n  const { supabase, user } = useUser();\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [connections, setConnections] = useState<PlatformConnection[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n\n  // Profile form\n  const [fullName, setFullName] = useState(\"\");\n  const [newsletterName, setNewsletterName] = useState(\"\");\n\n  // Connect modal\n  const [connectModalOpen, setConnectModalOpen] = useState(false);\n  const [connectPlatform, setConnectPlatform] = useState<\"beehiiv\" | \"substack\" | \"kit\">(\"beehiiv\");\n  const [apiKey, setApiKey] = useState(\"\");\n  const [publicationId, setPublicationId] = useState(\"\");\n  const [connecting, setConnecting] = useState(false);\n  const [saveError, setSaveError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!user) return;\n\n    const fetchData = async () => {\n      const [profileRes, connectionsRes] = await Promise.all([\n        supabase.from(\"profiles\").select(\"*\").eq(\"id\", user.id).single(),\n        supabase.from(\"platform_connections\").select(\"*\").eq(\"user_id\", user.id),\n      ]);\n\n      if (profileRes.data) {\n        setProfile(profileRes.data);\n        setFullName(profileRes.data.full_name || \"\");\n        setNewsletterName(profileRes.data.newsletter_name || \"\");\n      }\n\n      setConnections(connectionsRes.data || []);\n      setLoading(false);\n    };\n\n    fetchData();\n  }, [supabase, user]);\n\n  const handleSaveProfile = async () => {\n    if (!user) return;\n    setSaving(true);\n    setSaveError(null);\n    const { error } = await supabase.from(\"profiles\").update({\n      full_name: fullName,\n      newsletter_name: newsletterName,\n    }).eq(\"id\", user.id);\n    setSaving(false);\n    if (error) {\n      setSaveError(\"Failed to save profile\");\n      return;\n    }\n    setSaveSuccess(true);\n    setTimeout(() => setSaveSuccess(false), 2000);\n  };\n\n  const handleConnect = async () => {\n    if (!user || !apiKey) return;\n    setConnecting(true);\n    setSaveError(null);\n    const { error } = await supabase.from(\"platform_connections\").insert({\n      user_id: user.id,\n      platform: connectPlatform,\n      api_key: apiKey,\n      publication_id: publicationId || null,\n      is_active: true,\n    });\n    if (error) {\n      setSaveError(\"Failed to connect platform\");\n      setConnecting(false);\n      return;\n    }\n    const { data } = await supabase.from(\"platform_connections\").select(\"*\").eq(\"user_id\", user.id);\n    setConnections(data || []);\n    setConnecting(false);\n    setConnectModalOpen(false);\n    setApiKey(\"\");\n    setPublicationId(\"\");\n  };\n\n  const handleDisconnect = async (id: string) => {\n    if (!confirm(\"Disconnect this platform?\")) return;\n    const { error } = await supabase.from(\"platform_connections\").delete().eq(\"id\", id).eq(\"user_id\", user!.id);\n    if (error) {\n      setSaveError(\"Failed to disconnect platform\");\n      return;\n    }\n    setConnections((prev) => prev.filter((c) => c.id !== id));\n  };\n\n  const openConnectModal = (platform: \"beehiiv\" | \"substack\" | \"kit\") => {\n    setConnectPlatform(platform);\n    setApiKey(\"\");\n    setPublicationId(\"\");\n    setConnectModalOpen(true);\n  };\n\n  const getConnection = (platform: string) =>\n    connections.find((c) => c.platform === platform && c.is_active);\n\n  if (loading) {\n    return (\n      <div className=\"max-w-3xl space-y-8\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"h-48 bg-gray-100 rounded-2xl animate-pulse\" />\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-3xl space-y-8\">\n      {/* Profile */}\n      <Card>\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Profile</h3>\n        <div className=\"space-y-4\">\n          <div className=\"grid sm:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">Full Name</label>\n              <input\n                type=\"text\"\n                value={fullName}\n                onChange={(e) => setFullName(e.target.value)}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n              />\n            </div>\n            <Input label=\"Email\" type=\"email\" value={user?.email || \"\"} disabled />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">Newsletter Name</label>\n            <input\n              type=\"text\"\n              value={newsletterName}\n              onChange={(e) => setNewsletterName(e.target.value)}\n              className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n              placeholder=\"My Weekly Newsletter\"\n            />\n          </div>\n          <div className=\"pt-2 flex items-center gap-3\">\n            <Button onClick={handleSaveProfile} disabled={saving}>\n              {saving ? \"Saving...\" : \"Save Changes\"}\n            </Button>\n            {saveSuccess && <span className=\"text-sm text-green-600\">Saved!</span>}\n            {saveError && <span className=\"text-sm text-red-600\">{saveError}</span>}\n          </div>\n        </div>\n      </Card>\n\n      {/* Style Learning */}\n      <Card>\n        <div className=\"flex items-center gap-3 mb-2\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">\n            Writing Style Learning\n          </h3>\n          <span className=\"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-500 rounded-full\">Coming Soon</span>\n        </div>\n        <p className=\"text-sm text-gray-500 mb-6\">\n          Upload 5-10 of your past newsletters so AI can learn your tone,\n          structure, and style.\n        </p>\n\n        <div className=\"border-2 border-dashed border-gray-200 rounded-xl p-8 text-center opacity-60\">\n          <svg className=\"w-10 h-10 text-gray-300 mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n          </svg>\n          <p className=\"text-sm text-gray-600 font-medium\">\n            Drop files here or click to upload\n          </p>\n          <p className=\"text-xs text-gray-400 mt-1\">\n            Supports .txt, .md, .html, .pdf (max 10 files)\n          </p>\n        </div>\n\n        {profile?.style_profile && (\n          <div className=\"mt-4 p-4 bg-indigo-50 rounded-lg\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <svg className=\"w-5 h-5 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <span className=\"text-sm font-semibold text-indigo-700\">Style Profile Active</span>\n            </div>\n            <p className=\"text-xs text-indigo-600\">{profile.style_profile}</p>\n          </div>\n        )}\n      </Card>\n\n      {/* Platform Integrations */}\n      <Card>\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">\n          Platform Integrations\n        </h3>\n        <div className=\"space-y-4\">\n          {([\"beehiiv\", \"substack\", \"kit\"] as const).map((platform) => {\n            const meta = PLATFORM_META[platform];\n            const conn = getConnection(platform);\n            return (\n              <div\n                key={platform}\n                className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\"\n              >\n                <div className=\"flex items-center gap-3\">\n                  <div className={`w-10 h-10 ${meta.color} rounded-lg flex items-center justify-center`}>\n                    <span className=\"text-white font-bold text-xs\">\n                      {meta.label.charAt(0)}\n                    </span>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">\n                      {meta.label}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">{meta.description}</p>\n                  </div>\n                </div>\n                {conn ? (\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant=\"success\">Connected</Badge>\n                    <button\n                      onClick={() => handleDisconnect(conn.id)}\n                      className=\"text-xs text-gray-400 hover:text-red-500 cursor-pointer\"\n                    >\n                      Disconnect\n                    </button>\n                  </div>\n                ) : (\n                  <Button variant=\"secondary\" size=\"sm\" onClick={() => openConnectModal(platform)}>\n                    Connect\n                  </Button>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </Card>\n\n      {/* Connect Platform Modal */}\n      <Modal\n        isOpen={connectModalOpen}\n        onClose={() => setConnectModalOpen(false)}\n        title={`Connect ${PLATFORM_META[connectPlatform]?.label}`}\n      >\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">API Key</label>\n            <input\n              type=\"password\"\n              value={apiKey}\n              onChange={(e) => setApiKey(e.target.value)}\n              className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n              placeholder=\"Enter your API key\"\n              required\n            />\n          </div>\n          {connectPlatform === \"beehiiv\" && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">Publication ID</label>\n              <input\n                type=\"text\"\n                value={publicationId}\n                onChange={(e) => setPublicationId(e.target.value)}\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n                placeholder=\"pub_xxxxxxxx\"\n              />\n            </div>\n          )}\n          <div className=\"flex gap-3 pt-2\">\n            <Button variant=\"secondary\" onClick={() => setConnectModalOpen(false)} className=\"flex-1\">\n              Cancel\n            </Button>\n            <Button onClick={handleConnect} disabled={connecting || !apiKey} className=\"flex-1\">\n              {connecting ? \"Connecting...\" : \"Connect\"}\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}