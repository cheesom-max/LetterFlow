{"version":3,"sources":["../../../../../../../Desktop/Projects/LetterFlow/src/components/ui/Card.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/components/ui/Badge.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/hooks/useUser.ts","../../../../../../../Desktop/Projects/LetterFlow/src/components/ui/Button.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/components/ui/Modal.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/hooks/useTopics.ts","../../../../../../../Desktop/Projects/LetterFlow/src/app/dashboard/topics/page.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/components/topics/TopicCard.tsx","../../../../../../../Desktop/Projects/LetterFlow/src/components/topics/TopicModal.tsx"],"sourcesContent":["interface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  padding?: \"sm\" | \"md\" | \"lg\";\n  hover?: boolean;\n}\n\nconst paddingClasses = {\n  sm: \"p-4\",\n  md: \"p-6\",\n  lg: \"p-8\",\n};\n\nexport default function Card({\n  children,\n  className = \"\",\n  padding = \"md\",\n  hover = false,\n}: CardProps) {\n  return (\n    <div\n      className={`bg-white rounded-2xl border border-gray-100 shadow-sm ${\n        hover\n          ? \"hover:shadow-lg hover:border-indigo-100 hover:-translate-y-0.5 transition-all duration-300\"\n          : \"transition-shadow duration-200\"\n      } ${paddingClasses[padding]} ${className}`}\n    >\n      {children}\n    </div>\n  );\n}\n","type BadgeVariant = \"default\" | \"success\" | \"warning\" | \"info\" | \"purple\";\n\ninterface BadgeProps {\n  children: React.ReactNode;\n  variant?: BadgeVariant;\n  className?: string;\n}\n\nconst variantClasses: Record<BadgeVariant, string> = {\n  default: \"bg-gray-100 text-gray-700\",\n  success: \"bg-green-100 text-green-700\",\n  warning: \"bg-amber-100 text-amber-700\",\n  info: \"bg-blue-100 text-blue-700\",\n  purple: \"bg-indigo-100 text-indigo-700\",\n};\n\nexport default function Badge({\n  children,\n  variant = \"default\",\n  className = \"\",\n}: BadgeProps) {\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variantClasses[variant]} ${className}`}\n    >\n      {children}\n    </span>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport { createBrowserSupabaseClient } from \"@/lib/supabase\";\nimport type { User } from \"@supabase/supabase-js\";\n\nexport function useUser() {\n  const supabase = useMemo(() => createBrowserSupabaseClient(), []);\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    supabase.auth.getUser().then(({ data }) => {\n      setUser(data.user);\n      setLoading(false);\n    });\n\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [supabase]);\n\n  return { supabase, user, loading };\n}\n","import { ButtonHTMLAttributes } from \"react\";\n\ntype Variant = \"primary\" | \"secondary\" | \"ghost\";\ntype Size = \"sm\" | \"md\" | \"lg\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: Variant;\n  size?: Size;\n}\n\nconst variantClasses: Record<Variant, string> = {\n  primary:\n    \"bg-gradient-to-r from-indigo-600 to-violet-600 text-white hover:from-indigo-700 hover:to-violet-700 shadow-md shadow-indigo-200 hover:shadow-lg hover:shadow-indigo-300 active:scale-[0.98]\",\n  secondary:\n    \"bg-white text-gray-700 border border-gray-200 hover:border-indigo-300 hover:text-indigo-600 shadow-sm hover:shadow-md active:scale-[0.98]\",\n  ghost: \"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50\",\n};\n\nconst sizeClasses: Record<Size, string> = {\n  sm: \"px-3.5 py-1.5 text-sm gap-1.5\",\n  md: \"px-5 py-2.5 text-sm gap-2\",\n  lg: \"px-7 py-3.5 text-base gap-2\",\n};\n\nexport default function Button({\n  variant = \"primary\",\n  size = \"md\",\n  className = \"\",\n  children,\n  ...props\n}: ButtonProps) {\n  return (\n    <button\n      className={`inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer ${variantClasses[variant]} ${sizeClasses[size]} ${className}`}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n","\"use client\";\n\nimport { useEffect } from \"react\";\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n}\n\nexport default function Modal({ isOpen, onClose, title, children }: ModalProps) {\n  useEffect(() => {\n    const handleEsc = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleEsc);\n      document.body.style.overflow = \"hidden\";\n    }\n    return () => {\n      document.removeEventListener(\"keydown\", handleEsc);\n      document.body.style.overflow = \"\";\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div className=\"fixed inset-0 bg-gray-900/60 backdrop-blur-sm\" onClick={onClose} />\n      <div className=\"relative w-full max-w-lg mx-4 bg-white rounded-2xl shadow-2xl border border-gray-200 max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-100\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">{title}</h2>\n          <button\n            onClick={onClose}\n            className=\"p-1.5 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n        <div className=\"px-6 py-5\">{children}</div>\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useUser } from \"./useUser\";\nimport type { Topic } from \"@/lib/database.types\";\n\nexport type TopicWithCount = Topic & { article_count: number };\n\nexport function useTopics() {\n  const { supabase, user } = useUser();\n  const [topics, setTopics] = useState<TopicWithCount[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [refreshKey, setRefreshKey] = useState(0);\n\n  useEffect(() => {\n    if (!user) return;\n    let active = true;\n\n    (async () => {\n      try {\n        const { data, error: queryError } = await supabase\n          .from(\"topics\")\n          .select(\"*, articles(count)\")\n          .eq(\"user_id\", user.id)\n          .order(\"created_at\", { ascending: false });\n\n        if (!active) return;\n        if (queryError) throw queryError;\n\n        const mapped = (data || []).map((t) => ({\n          ...t,\n          article_count: (t as Record<string, unknown>).articles\n            ? ((t as Record<string, unknown>).articles as { count: number }[])[0]?.count ?? 0\n            : 0,\n        })) as TopicWithCount[];\n\n        setTopics(mapped);\n        setError(null);\n      } catch (err) {\n        if (!active) return;\n        setError(err instanceof Error ? err.message : \"Failed to load topics\");\n      } finally {\n        if (active) setLoading(false);\n      }\n    })();\n\n    return () => { active = false; };\n  }, [supabase, user, refreshKey]);\n\n  const refresh = useCallback(() => {\n    setLoading(true);\n    setRefreshKey((k) => k + 1);\n  }, []);\n\n  const addTopic = async (data: {\n    name: string;\n    keywords: string[];\n    rss_urls: string[];\n    category: string;\n    is_active: boolean;\n  }) => {\n    if (!user) return;\n    const { error } = await supabase.from(\"topics\").insert({\n      user_id: user.id,\n      ...data,\n    });\n    if (!error) refresh();\n    return error;\n  };\n\n  const updateTopic = async (\n    id: string,\n    data: Partial<{\n      name: string;\n      keywords: string[];\n      rss_urls: string[];\n      category: string;\n      is_active: boolean;\n    }>\n  ) => {\n    if (!user) return;\n    const { error } = await supabase.from(\"topics\").update(data).eq(\"id\", id).eq(\"user_id\", user.id);\n    if (!error) refresh();\n    return error;\n  };\n\n  const deleteTopic = async (id: string) => {\n    if (!user) return;\n    const { error } = await supabase.from(\"topics\").delete().eq(\"id\", id).eq(\"user_id\", user.id);\n    if (!error) refresh();\n    return error;\n  };\n\n  return { topics, loading, error, addTopic, updateTopic, deleteTopic, refresh };\n}\n","\"use client\";\n\nimport { useState } from \"react\";\nimport Button from \"@/components/ui/Button\";\nimport TopicCard from \"@/components/topics/TopicCard\";\nimport TopicModal from \"@/components/topics/TopicModal\";\nimport { useTopics, type TopicWithCount } from \"@/hooks/useTopics\";\nimport type { Topic } from \"@/lib/database.types\";\n\nexport default function TopicsPage() {\n  const { topics, loading, addTopic, updateTopic, deleteTopic } = useTopics();\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editingTopic, setEditingTopic] = useState<Topic | null>(null);\n\n  const handleSubmit = async (data: {\n    name: string;\n    keywords: string[];\n    rss_urls: string[];\n    category: string;\n    is_active: boolean;\n  }) => {\n    if (editingTopic) {\n      return updateTopic(editingTopic.id, data);\n    }\n    return addTopic(data);\n  };\n\n  const handleEdit = (topic: TopicWithCount) => {\n    setEditingTopic(topic);\n    setModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setModalOpen(false);\n    setEditingTopic(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"h-5 w-40 bg-gray-200 rounded animate-pulse\" />\n          <div className=\"h-10 w-32 bg-gray-200 rounded-xl animate-pulse\" />\n        </div>\n        <div className=\"grid md:grid-cols-2 xl:grid-cols-3 gap-4\">\n          {[1, 2, 3].map((i) => (\n            <div key={i} className=\"h-48 bg-gray-100 rounded-2xl animate-pulse\" />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className=\"text-sm text-gray-500\">\n            {topics.length} topics &middot; {topics.filter((t) => t.is_active).length} active\n          </p>\n        </div>\n        <Button onClick={() => setModalOpen(true)}>\n          <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n          </svg>\n          Add Topic\n        </Button>\n      </div>\n\n      {topics.length === 0 ? (\n        <div className=\"text-center py-16\">\n          <div className=\"w-16 h-16 bg-indigo-50 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n            <svg className=\"w-8 h-8 text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\n            </svg>\n          </div>\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">No topics yet</h3>\n          <p className=\"text-sm text-gray-500 mb-6\">Add your first topic to start curating content for your newsletter.</p>\n          <Button onClick={() => setModalOpen(true)}>Add Your First Topic</Button>\n        </div>\n      ) : (\n        <div className=\"grid md:grid-cols-2 xl:grid-cols-3 gap-4\">\n          {topics.map((topic) => (\n            <TopicCard\n              key={topic.id}\n              topic={topic}\n              onEdit={handleEdit}\n              onDelete={deleteTopic}\n            />\n          ))}\n        </div>\n      )}\n\n      <TopicModal\n        isOpen={modalOpen}\n        onClose={handleCloseModal}\n        onSubmit={handleSubmit}\n        topic={editingTopic}\n      />\n    </div>\n  );\n}\n","\"use client\";\n\nimport Card from \"@/components/ui/Card\";\nimport Badge from \"@/components/ui/Badge\";\nimport type { TopicWithCount } from \"@/hooks/useTopics\";\n\ninterface TopicCardProps {\n  topic: TopicWithCount;\n  onEdit: (topic: TopicWithCount) => void;\n  onDelete: (id: string) => void;\n}\n\nexport default function TopicCard({ topic, onEdit, onDelete }: TopicCardProps) {\n  return (\n    <Card className=\"hover:shadow-md transition-shadow\">\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex-1\">\n          <div className=\"flex items-center gap-2\">\n            <h3 className=\"text-base font-semibold text-gray-900\">{topic.name}</h3>\n            <Badge variant={topic.is_active ? \"success\" : \"default\"}>\n              {topic.is_active ? \"Active\" : \"Paused\"}\n            </Badge>\n          </div>\n          <Badge variant=\"purple\" className=\"mt-2\">{topic.category}</Badge>\n        </div>\n        <div className=\"text-right\">\n          <p className=\"text-2xl font-bold text-gray-900\">{topic.article_count}</p>\n          <p className=\"text-xs text-gray-500\">articles</p>\n        </div>\n      </div>\n\n      <div className=\"mt-4\">\n        <p className=\"text-xs text-gray-500 mb-2\">Keywords</p>\n        <div className=\"flex flex-wrap gap-1.5\">\n          {topic.keywords.map((kw) => (\n            <span\n              key={kw}\n              className=\"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs\"\n            >\n              {kw}\n            </span>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"mt-4 flex items-center justify-between pt-4 border-t border-gray-100\">\n        <button\n          onClick={() => onEdit(topic)}\n          className=\"text-sm text-indigo-600 hover:text-indigo-800 font-medium cursor-pointer\"\n        >\n          Edit\n        </button>\n        <button\n          onClick={() => {\n            if (confirm(\"Are you sure you want to remove this topic?\")) {\n              onDelete(topic.id);\n            }\n          }}\n          className=\"text-sm text-gray-400 hover:text-red-500 cursor-pointer\"\n        >\n          Remove\n        </button>\n      </div>\n    </Card>\n  );\n}\n","\"use client\";\n\nimport { useState } from \"react\";\nimport Modal from \"@/components/ui/Modal\";\nimport Button from \"@/components/ui/Button\";\nimport type { Topic } from \"@/lib/database.types\";\n\ninterface TopicModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit: (data: {\n    name: string;\n    keywords: string[];\n    rss_urls: string[];\n    category: string;\n    is_active: boolean;\n  }) => Promise<unknown>;\n  topic?: Topic | null;\n}\n\nconst categories = [\"Technology\", \"Business\", \"Creator\", \"Marketing\", \"Finance\", \"Other\"];\n\nexport default function TopicModal({ isOpen, onClose, onSubmit, topic }: TopicModalProps) {\n  const [name, setName] = useState(topic?.name || \"\");\n  const [keywords, setKeywords] = useState(topic?.keywords.join(\", \") || \"\");\n  const [rssUrls, setRssUrls] = useState(topic?.rss_urls.join(\"\\n\") || \"\");\n  const [category, setCategory] = useState(topic?.category || \"Technology\");\n  const [isActive, setIsActive] = useState(topic?.is_active ?? true);\n  const [saving, setSaving] = useState(false);\n  const [prevKey, setPrevKey] = useState(\"\");\n\n  // Sync form state from props during render (React 19 pattern)\n  const key = `${isOpen}-${topic?.id || \"new\"}`;\n  if (key !== prevKey) {\n    setPrevKey(key);\n    if (topic) {\n      setName(topic.name);\n      setKeywords(topic.keywords.join(\", \"));\n      setRssUrls(topic.rss_urls.join(\"\\n\"));\n      setCategory(topic.category);\n      setIsActive(topic.is_active);\n    } else {\n      setName(\"\");\n      setKeywords(\"\");\n      setRssUrls(\"\");\n      setCategory(\"Technology\");\n      setIsActive(true);\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSaving(true);\n    await onSubmit({\n      name,\n      keywords: keywords.split(\",\").map((k) => k.trim()).filter(Boolean),\n      rss_urls: rssUrls.split(\"\\n\").map((u) => u.trim()).filter(Boolean),\n      category,\n      is_active: isActive,\n    });\n    setSaving(false);\n    onClose();\n  };\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title={topic ? \"Edit Topic\" : \"Add Topic\"}>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">Topic Name</label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n            placeholder=\"e.g. AI & Machine Learning\"\n            required\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\n            Keywords <span className=\"text-gray-400 font-normal\">(comma separated)</span>\n          </label>\n          <input\n            type=\"text\"\n            value={keywords}\n            onChange={(e) => setKeywords(e.target.value)}\n            className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\n            placeholder=\"e.g. artificial intelligence, LLM, GPT\"\n            required\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\n            RSS Feed URLs <span className=\"text-gray-400 font-normal\">(one per line)</span>\n          </label>\n          <textarea\n            value={rssUrls}\n            onChange={(e) => setRssUrls(e.target.value)}\n            className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none\"\n            rows={3}\n            placeholder={\"https://techcrunch.com/feed/\\nhttps://news.ycombinator.com/rss\"}\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">Category</label>\n          <select\n            value={category}\n            onChange={(e) => setCategory(e.target.value)}\n            className=\"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white\"\n          >\n            {categories.map((c) => (\n              <option key={c} value={c}>{c}</option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          <button\n            type=\"button\"\n            onClick={() => setIsActive(!isActive)}\n            className={`relative w-10 h-5 rounded-full transition-colors cursor-pointer ${\n              isActive ? \"bg-indigo-600\" : \"bg-gray-300\"\n            }`}\n          >\n            <span\n              className={`absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full transition-transform shadow-sm ${\n                isActive ? \"translate-x-5\" : \"\"\n              }`}\n            />\n          </button>\n          <span className=\"text-sm text-gray-700\">Active monitoring</span>\n        </div>\n\n        <div className=\"flex gap-3 pt-2\">\n          <Button type=\"button\" variant=\"secondary\" onClick={onClose} className=\"flex-1\">\n            Cancel\n          </Button>\n          <Button type=\"submit\" className=\"flex-1\" disabled={saving}>\n            {saving ? \"Saving...\" : topic ? \"Save Changes\" : \"Add Topic\"}\n          </Button>\n        </div>\n      </form>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":"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"}