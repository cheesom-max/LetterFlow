module.exports=[70947,a=>{"use strict";var b=a.i(6884),c=a.i(48827);function d(){let a=(0,b.useMemo)(()=>(0,c.createBrowserSupabaseClient)(),[]),[d,e]=(0,b.useState)(null),[f,g]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{a.auth.getUser().then(({data:a})=>{e(a.user),g(!1)});let{data:{subscription:b}}=a.auth.onAuthStateChange((a,b)=>{e(b?.user??null)});return()=>b.unsubscribe()},[a]),{supabase:a,user:d,loading:f}}a.s(["useUser",()=>d])},93579,a=>{"use strict";var b=a.i(80290);let c={sm:"p-4",md:"p-6",lg:"p-8"};function d({children:a,className:d="",padding:e="md",hover:f=!1}){return(0,b.jsx)("div",{className:`bg-white rounded-2xl border border-gray-100 shadow-sm ${f?"hover:shadow-lg hover:border-indigo-100 hover:-translate-y-0.5 transition-all duration-300":"transition-shadow duration-200"} ${c[e]} ${d}`,children:a})}a.s(["default",()=>d])},61735,a=>{"use strict";var b=a.i(80290),c=a.i(47408);let d={"Monitored Topics":{gradient:"from-amber-500 to-orange-500",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})},"Curated Articles":{gradient:"from-blue-500 to-cyan-500",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})},"Drafts Generated":{gradient:"from-indigo-500 to-violet-500",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})},Published:{gradient:"from-emerald-500 to-teal-500",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}};function e({label:a,value:c,change:e,changeType:f}){let g=d[a]||d.Published;return(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-400",children:a}),(0,b.jsx)("p",{className:"mt-2 text-3xl font-extrabold text-gray-900",children:c})]}),(0,b.jsx)("div",{className:`w-11 h-11 rounded-xl bg-gradient-to-br ${g.gradient} flex items-center justify-center text-white shadow-lg`,children:g.icon})]}),(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${"up"===f?"text-emerald-600 bg-emerald-50":"down"===f?"text-red-600 bg-red-50":"text-gray-500 bg-gray-50"}`,children:e})})]})}var f=a.i(93579);let g={curated:{bg:"bg-blue-100",color:"text-blue-600"},draft:{bg:"bg-indigo-100",color:"text-indigo-600"},published:{bg:"bg-green-100",color:"text-green-600"},topic:{bg:"bg-amber-100",color:"text-amber-600"}};function h({activities:a}){return(0,b.jsxs)(f.default,{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),0===a.length?(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"No recent activity. Start by adding topics and curating content."}):(0,b.jsx)("div",{className:"space-y-4",children:a.map((a,c)=>{let d=g[a.type]||g.curated;return(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full ${d.bg} flex items-center justify-center shrink-0 mt-0.5`,children:(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${d.color.replace("text-","bg-")}`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.message}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-0.5",children:a.time})]})]},c)})})]})}var i=a.i(6884),j=a.i(70947);function k(a){let b=new Date(a),c=Math.floor((new Date().getTime()-b.getTime())/36e5);if(c<1)return"Just now";if(c<24)return`${c}h ago`;let d=Math.floor(c/24);return d<7?`${d}d ago`:b.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function l(){let{stats:a,activities:d,loading:f}=function(){let{supabase:a,user:b}=(0,j.useUser)(),[c,d]=(0,i.useState)([]),[e,f]=(0,i.useState)([]),[g,h]=(0,i.useState)(!0),[l,m]=(0,i.useState)(null);return(0,i.useEffect)(()=>{if(!b)return;let c=!0;return(async()=>{try{let[e,g,h,i]=await Promise.all([a.from("topics").select("*",{count:"exact",head:!0}).eq("user_id",b.id),a.from("articles").select("*",{count:"exact",head:!0}).eq("user_id",b.id),a.from("drafts").select("*",{count:"exact",head:!0}).eq("user_id",b.id),a.from("drafts").select("*",{count:"exact",head:!0}).eq("user_id",b.id).eq("status","published")]);if(!c)return;let j=h.count??0,l=i.count??0;d([{label:"Monitored Topics",value:String(e.count??0),change:"active monitoring",changeType:"neutral"},{label:"Curated Articles",value:String(g.count??0),change:"total curated",changeType:"up"},{label:"Drafts Generated",value:String(j),change:`${j-l} in progress`,changeType:"neutral"},{label:"Published",value:String(l),change:"total published",changeType:"up"}]);let n=[],{data:o}=await a.from("topics").select("name, created_at").eq("user_id",b.id).order("created_at",{ascending:!1}).limit(3);if(!c)return;(o||[]).forEach(a=>{n.push({type:"topic",message:`Topic added: ${a.name}`,time:k(a.created_at)})});let{data:p}=await a.from("articles").select("title, created_at").eq("user_id",b.id).order("created_at",{ascending:!1}).limit(3);if(!c)return;(p||[]).forEach(a=>{n.push({type:"curated",message:`Article curated: ${a.title}`,time:k(a.created_at)})});let{data:q}=await a.from("drafts").select("title, status, updated_at").eq("user_id",b.id).order("updated_at",{ascending:!1}).limit(3);if(!c)return;(q||[]).forEach(a=>{n.push({type:"published"===a.status?"published":"draft",message:`${"published"===a.status?"Published":"Draft"}: ${a.title}`,time:k(a.updated_at)})}),f(n.slice(0,8)),m(null)}catch(a){if(!c)return;m(a instanceof Error?a.message:"Failed to load stats")}finally{c&&h(!1)}})(),()=>{c=!1}},[a,b]),{stats:c,activities:e,loading:g,error:l}}();return f?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(a=>(0,b.jsx)("div",{className:"h-32 bg-gray-100 rounded-2xl animate-pulse"},a))}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2 h-64 bg-gray-100 rounded-xl animate-pulse"}),(0,b.jsx)("div",{className:"h-64 bg-gray-100 rounded-xl animate-pulse"})]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map(a=>(0,b.jsx)(e,{...a},a.label))}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsx)(h,{activities:d})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(c.default,{href:"/dashboard/feed",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-indigo-50 rounded-lg flex items-center justify-center group-hover:bg-indigo-100 transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Run AI Curation"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Scan sources for new content"})]})]}),(0,b.jsxs)(c.default,{href:"/dashboard/drafts",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center group-hover:bg-purple-100 transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Generate Draft"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Create a new AI-written draft"})]})]}),(0,b.jsxs)(c.default,{href:"/dashboard/topics",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-amber-50 rounded-lg flex items-center justify-center group-hover:bg-amber-100 transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Add Topic"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Monitor a new subject area"})]})]})]})]})]})]})}a.s(["default",()=>l],61735)}];

//# sourceMappingURL=Desktop_Projects_LetterFlow_src_d45dbb75._.js.map