(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21839,e=>{"use strict";e.s(["DRAFT_STATUS_MAP",0,{draft:{variant:"default",label:"Draft"},review:{variant:"warning",label:"In Review"},scheduled:{variant:"info",label:"Scheduled"},published:{variant:"success",label:"Published"}},"INTEREST_OPTIONS",0,["Technology","Business","Creator","Marketing","Finance","AI & ML","Design","Startup"],"PLATFORM_META",0,{beehiiv:{label:"Beehiiv",description:"Connect your Beehiiv account to publish directly",color:"bg-amber-500"},substack:{label:"Substack",description:"Publish newsletters to your Substack",color:"bg-orange-500"},kit:{label:"Kit (ConvertKit)",description:"Send newsletters via Kit email platform",color:"bg-blue-500"}},"TIMING",0,{DEBOUNCE_MS:2e3,SAVE_DISPLAY_MS:2e3,RSS_CACHE_SEC:3600}])},11200,e=>{"use strict";var t=e.i(40404);let s={sm:"p-4",md:"p-6",lg:"p-8"};function r({children:e,className:r="",padding:a="md",hover:i=!1}){return(0,t.jsx)("div",{className:`bg-white rounded-2xl border border-gray-100 shadow-sm ${i?"hover:shadow-lg hover:border-indigo-100 hover:-translate-y-0.5 transition-all duration-300":"transition-shadow duration-200"} ${s[a]} ${r}`,children:e})}e.s(["default",()=>r])},29084,e=>{"use strict";var t=e.i(40404);let s={default:"bg-gray-100 text-gray-700",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",info:"bg-blue-100 text-blue-700",purple:"bg-indigo-100 text-indigo-700"};function r({children:e,variant:r="default",className:a=""}){return(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s[r]} ${a}`,children:e})}e.s(["default",()=>r])},14972,e=>{"use strict";var t=e.i(51156),s=e.i(60456);function r(){let e=(0,t.useMemo)(()=>(0,s.createBrowserSupabaseClient)(),[]),[r,a]=(0,t.useState)(null),[i,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{e.auth.getUser().then(({data:e})=>{a(e.user),l(!1)});let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{a(t?.user??null)});return()=>t.unsubscribe()},[e]),{supabase:e,user:r,loading:i}}e.s(["useUser",()=>r])},98330,e=>{"use strict";var t=e.i(40404);let s={primary:"bg-gradient-to-r from-indigo-600 to-violet-600 text-white hover:from-indigo-700 hover:to-violet-700 shadow-md shadow-indigo-200 hover:shadow-lg hover:shadow-indigo-300 active:scale-[0.98]",secondary:"bg-white text-gray-700 border border-gray-200 hover:border-indigo-300 hover:text-indigo-600 shadow-sm hover:shadow-md active:scale-[0.98]",ghost:"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50"},r={sm:"px-3.5 py-1.5 text-sm gap-1.5",md:"px-5 py-2.5 text-sm gap-2",lg:"px-7 py-3.5 text-base gap-2"};function a({variant:e="primary",size:a="md",className:i="",children:l,...n}){return(0,t.jsx)("button",{className:`inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer ${s[e]} ${r[a]} ${i}`,...n,children:l})}e.s(["default",()=>a])},12933,e=>{"use strict";var t=e.i(40404),s=e.i(51156);function r({isOpen:e,onClose:r,title:a,children:i}){return((0,s.useEffect)(()=>{let t=e=>{"Escape"===e.key&&r()};return e&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow=""}},[e,r]),e)?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:r}),(0,t.jsxs)("div",{className:"relative w-full max-w-lg mx-4 bg-white rounded-2xl shadow-2xl border border-gray-200 max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:a}),(0,t.jsx)("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"px-6 py-5",children:i})]})]}):null}e.s(["default",()=>r])},26484,e=>{"use strict";var t=e.i(40404),s=e.i(51156),r=e.i(98330),a=e.i(11200),i=e.i(11079),l=e.i(29084),n=e.i(12933),o=e.i(14972),d=e.i(21839);function c(){let{supabase:e,user:c}=(0,o.useUser)(),[u,x]=(0,s.useState)(null),[m,f]=(0,s.useState)([]),[g,h]=(0,s.useState)(!0),[p,b]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[j,N]=(0,s.useState)(""),[w,S]=(0,s.useState)(""),[k,C]=(0,s.useState)(!1),[_,A]=(0,s.useState)("beehiiv"),[M,T]=(0,s.useState)(""),[E,P]=(0,s.useState)(""),[L,I]=(0,s.useState)(!1),[B,$]=(0,s.useState)(null);(0,s.useEffect)(()=>{c&&(async()=>{let[t,s]=await Promise.all([e.from("profiles").select("*").eq("id",c.id).single(),e.from("platform_connections").select("*").eq("user_id",c.id)]);t.data&&(x(t.data),N(t.data.full_name||""),S(t.data.newsletter_name||"")),f(s.data||[]),h(!1)})()},[e,c]);let D=async()=>{if(!c)return;b(!0),$(null);let{error:t}=await e.from("profiles").update({full_name:j,newsletter_name:w}).eq("id",c.id);(b(!1),t)?$("Failed to save profile"):(y(!0),setTimeout(()=>y(!1),2e3))},F=async()=>{if(!c||!M)return;I(!0),$(null);let{error:t}=await e.from("platform_connections").insert({user_id:c.id,platform:_,api_key:M,publication_id:E||null,is_active:!0});if(t){$("Failed to connect platform"),I(!1);return}let{data:s}=await e.from("platform_connections").select("*").eq("user_id",c.id);f(s||[]),I(!1),C(!1),T(""),P("")},O=async t=>{if(!confirm("Disconnect this platform?"))return;let{error:s}=await e.from("platform_connections").delete().eq("id",t).eq("user_id",c.id);s?$("Failed to disconnect platform"):f(e=>e.filter(e=>e.id!==t))};return g?(0,t.jsx)("div",{className:"max-w-3xl space-y-8",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-48 bg-gray-100 rounded-2xl animate-pulse"},e))}):(0,t.jsxs)("div",{className:"max-w-3xl space-y-8",children:[(0,t.jsxs)(a.default,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Profile"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),(0,t.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,t.jsx)(i.default,{label:"Email",type:"email",value:c?.email||"",disabled:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Newsletter Name"}),(0,t.jsx)("input",{type:"text",value:w,onChange:e=>S(e.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"My Weekly Newsletter"})]}),(0,t.jsxs)("div",{className:"pt-2 flex items-center gap-3",children:[(0,t.jsx)(r.default,{onClick:D,disabled:p,children:p?"Saving...":"Save Changes"}),v&&(0,t.jsx)("span",{className:"text-sm text-green-600",children:"Saved!"}),B&&(0,t.jsx)("span",{className:"text-sm text-red-600",children:B})]})]})]}),(0,t.jsxs)(a.default,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Writing Style Learning"}),(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-500 rounded-full",children:"Coming Soon"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Upload 5-10 of your past newsletters so AI can learn your tone, structure, and style."}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-8 text-center opacity-60",children:[(0,t.jsx)("svg",{className:"w-10 h-10 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,t.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Drop files here or click to upload"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Supports .txt, .md, .html, .pdf (max 10 files)"})]}),u?.style_profile&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"text-sm font-semibold text-indigo-700",children:"Style Profile Active"})]}),(0,t.jsx)("p",{className:"text-xs text-indigo-600",children:u.style_profile})]})]}),(0,t.jsxs)(a.default,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Platform Integrations"}),(0,t.jsx)("div",{className:"space-y-4",children:["beehiiv","substack","kit"].map(e=>{let s=d.PLATFORM_META[e],a=m.find(t=>t.platform===e&&t.is_active);return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 ${s.color} rounded-lg flex items-center justify-center`,children:(0,t.jsx)("span",{className:"text-white font-bold text-xs",children:s.label.charAt(0)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:s.label}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:s.description})]})]}),a?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.default,{variant:"success",children:"Connected"}),(0,t.jsx)("button",{onClick:()=>O(a.id),className:"text-xs text-gray-400 hover:text-red-500 cursor-pointer",children:"Disconnect"})]}):(0,t.jsx)(r.default,{variant:"secondary",size:"sm",onClick:()=>{A(e),T(""),P(""),C(!0)},children:"Connect"})]},e)})})]}),(0,t.jsx)(n.default,{isOpen:k,onClose:()=>C(!1),title:`Connect ${d.PLATFORM_META[_]?.label}`,children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"API Key"}),(0,t.jsx)("input",{type:"password",value:M,onChange:e=>T(e.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your API key",required:!0})]}),"beehiiv"===_&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Publication ID"}),(0,t.jsx)("input",{type:"text",value:E,onChange:e=>P(e.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"pub_xxxxxxxx"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,t.jsx)(r.default,{variant:"secondary",onClick:()=>C(!1),className:"flex-1",children:"Cancel"}),(0,t.jsx)(r.default,{onClick:F,disabled:L||!M,className:"flex-1",children:L?"Connecting...":"Connect"})]})]})})]})}e.s(["default",()=>c])}]);