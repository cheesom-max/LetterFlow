(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21839,e=>{"use strict";e.s(["DRAFT_STATUS_MAP",0,{draft:{variant:"default",label:"Draft"},review:{variant:"warning",label:"In Review"},scheduled:{variant:"info",label:"Scheduled"},published:{variant:"success",label:"Published"}},"INTEREST_OPTIONS",0,["Technology","Business","Creator","Marketing","Finance","AI & ML","Design","Startup"],"PLATFORM_META",0,{beehiiv:{label:"Beehiiv",description:"Connect your Beehiiv account to publish directly",color:"bg-amber-500"},substack:{label:"Substack",description:"Publish newsletters to your Substack",color:"bg-orange-500"},kit:{label:"Kit (ConvertKit)",description:"Send newsletters via Kit email platform",color:"bg-blue-500"}},"TIMING",0,{DEBOUNCE_MS:2e3,SAVE_DISPLAY_MS:2e3,RSS_CACHE_SEC:3600}])},11200,e=>{"use strict";var t=e.i(40404);let r={sm:"p-4",md:"p-6",lg:"p-8"};function s({children:e,className:s="",padding:a="md",hover:i=!1}){return(0,t.jsx)("div",{className:`bg-white rounded-2xl border border-gray-100 shadow-sm ${i?"hover:shadow-lg hover:border-indigo-100 hover:-translate-y-0.5 transition-all duration-300":"transition-shadow duration-200"} ${r[a]} ${s}`,children:e})}e.s(["default",()=>s])},29084,e=>{"use strict";var t=e.i(40404);let r={default:"bg-gray-100 text-gray-700",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",info:"bg-blue-100 text-blue-700",purple:"bg-indigo-100 text-indigo-700"};function s({children:e,variant:s="default",className:a=""}){return(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r[s]} ${a}`,children:e})}e.s(["default",()=>s])},14972,e=>{"use strict";var t=e.i(51156),r=e.i(60456);function s(){let e=(0,t.useMemo)(()=>(0,r.createBrowserSupabaseClient)(),[]),[s,a]=(0,t.useState)(null),[i,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{e.auth.getUser().then(({data:e})=>{a(e.user),l(!1)});let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{a(t?.user??null)});return()=>t.unsubscribe()},[e]),{supabase:e,user:s,loading:i}}e.s(["useUser",()=>s])},98330,e=>{"use strict";var t=e.i(40404);let r={primary:"bg-gradient-to-r from-indigo-600 to-violet-600 text-white hover:from-indigo-700 hover:to-violet-700 shadow-md shadow-indigo-200 hover:shadow-lg hover:shadow-indigo-300 active:scale-[0.98]",secondary:"bg-white text-gray-700 border border-gray-200 hover:border-indigo-300 hover:text-indigo-600 shadow-sm hover:shadow-md active:scale-[0.98]",ghost:"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50"},s={sm:"px-3.5 py-1.5 text-sm gap-1.5",md:"px-5 py-2.5 text-sm gap-2",lg:"px-7 py-3.5 text-base gap-2"};function a({variant:e="primary",size:a="md",className:i="",children:l,...n}){return(0,t.jsx)("button",{className:`inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer ${r[e]} ${s[a]} ${i}`,...n,children:l})}e.s(["default",()=>a])},4540,e=>{"use strict";function t(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/36e5);if(r<1)return"Just now";if(r<24)return`${r}h ago`;let s=Math.floor(r/24);return s<7?`${s}d ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function r(e){return e&&e.trim()?e.trim().split(/\s+/).filter(Boolean).length:0}e.s(["countWords",()=>r,"formatDate",()=>t])},12299,e=>{"use strict";var t=e.i(40404),r=e.i(90498),s=e.i(98330),a=e.i(63569),i=e.i(11200),l=e.i(29084),n=e.i(21839),o=e.i(4540);function d({id:e,title:r,content:s,status:d,created_at:u,word_count:c,sources_used:h}){let g=n.DRAFT_STATUS_MAP[d]||{variant:"default",label:d},m=s?s.replace(/^#.*\n/gm,"").trim().slice(0,150)+"...":"No content yet";return(0,t.jsx)(a.default,{href:`/dashboard/drafts/${e}`,children:(0,t.jsxs)(i.default,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[(0,t.jsx)("div",{className:"flex items-start justify-between gap-3",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,t.jsx)(l.default,{variant:g.variant,children:g.label})}),(0,t.jsx)("h3",{className:"text-base font-semibold text-gray-900 leading-snug",children:r}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500 line-clamp-2",children:m})]})}),(0,t.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-100 flex items-center gap-4 text-xs text-gray-400",children:[(0,t.jsx)("span",{children:(0,o.formatDate)(u)}),(0,t.jsxs)("span",{children:[c," words"]}),(0,t.jsxs)("span",{children:[h," sources"]})]})]})})}var u=e.i(51156),c=e.i(14972);let h=[{label:"All",value:"All"},{label:"Draft",value:"draft"},{label:"In Review",value:"review"},{label:"Scheduled",value:"scheduled"},{label:"Published",value:"published"}];function g(){let{drafts:e,loading:a,statusFilter:i,setStatusFilter:l}=function(){let{supabase:e,user:t}=(0,c.useUser)(),[r,s]=(0,u.useState)([]),[a,i]=(0,u.useState)(!0),[l,n]=(0,u.useState)(null),[o,d]=(0,u.useState)("All"),[h,g]=(0,u.useState)(0);return(0,u.useEffect)(()=>{if(!t)return;let r=!0;return(async()=>{try{let a=e.from("drafts").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if("All"!==o){let e=o.toLowerCase().replace(" ","");a=a.eq("status",e)}let{data:i,error:l}=await a;if(!r)return;if(l)throw l;s(i||[]),n(null)}catch(e){if(!r)return;n(e instanceof Error?e.message:"Failed to load drafts")}finally{r&&i(!1)}})(),()=>{r=!1}},[e,t,o,h]),{drafts:r,loading:a,error:l,statusFilter:o,setStatusFilter:d,refresh:()=>{i(!0),g(e=>e+1)}}}(),n=(0,r.useRouter)();return a?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"h-5 w-40 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-10 w-40 bg-gray-200 rounded-xl animate-pulse"})]}),(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,t.jsx)("div",{className:"h-40 bg-gray-100 rounded-2xl animate-pulse"},e))})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.length," drafts Â·"," ",e.filter(e=>"draft"===e.status).length," in progress"]})}),(0,t.jsxs)(s.default,{onClick:()=>n.push("/dashboard/feed"),children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Generate Draft"]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(e=>(0,t.jsx)("button",{onClick:()=>l("All"===e.value?"All":e.value),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors cursor-pointer ${i===e.value||"All"===i&&"All"===e.value?"bg-indigo-600 text-white":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300 hover:text-indigo-600"}`,children:e.label},e.value))}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-indigo-50 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"No drafts yet"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Go to the Feed page to curate articles and generate your first draft."}),(0,t.jsx)(s.default,{onClick:()=>n.push("/dashboard/feed"),children:"Go to Feed"})]}):(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:e.map(e=>(0,t.jsx)(d,{...e},e.id))})]})}e.s(["default",()=>g],12299)}]);