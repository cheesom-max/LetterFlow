(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14972,e=>{"use strict";var t=e.i(51156),r=e.i(60456);function s(){let e=(0,t.useMemo)(()=>(0,r.createBrowserSupabaseClient)(),[]),[s,a]=(0,t.useState)(null),[i,n]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{e.auth.getUser().then(({data:e})=>{a(e.user),n(!1)});let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{a(t?.user??null)});return()=>t.unsubscribe()},[e]),{supabase:e,user:s,loading:i}}e.s(["useUser",()=>s])},11200,e=>{"use strict";var t=e.i(40404);let r={sm:"p-4",md:"p-6",lg:"p-8"};function s({children:e,className:s="",padding:a="md",hover:i=!1}){return(0,t.jsx)("div",{className:`bg-white rounded-2xl border border-gray-100 shadow-sm ${i?"hover:shadow-lg hover:border-indigo-100 hover:-translate-y-0.5 transition-all duration-300":"transition-shadow duration-200"} ${r[a]} ${s}`,children:e})}e.s(["default",()=>s])},57572,e=>{"use strict";var t=e.i(40404),r=e.i(63569);let s={"Monitored Topics":{gradient:"from-amber-500 to-orange-500",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})},"Curated Articles":{gradient:"from-blue-500 to-cyan-500",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})},"Drafts Generated":{gradient:"from-indigo-500 to-violet-500",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})},Published:{gradient:"from-emerald-500 to-teal-500",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}};function a({label:e,value:r,change:a,changeType:i}){let n=s[e]||s.Published;return(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-400",children:e}),(0,t.jsx)("p",{className:"mt-2 text-3xl font-extrabold text-gray-900",children:r})]}),(0,t.jsx)("div",{className:`w-11 h-11 rounded-xl bg-gradient-to-br ${n.gradient} flex items-center justify-center text-white shadow-lg`,children:n.icon})]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${"up"===i?"text-emerald-600 bg-emerald-50":"down"===i?"text-red-600 bg-red-50":"text-gray-500 bg-gray-50"}`,children:a})})]})}var i=e.i(11200);let n={curated:{bg:"bg-blue-100",color:"text-blue-600"},draft:{bg:"bg-indigo-100",color:"text-indigo-600"},published:{bg:"bg-green-100",color:"text-green-600"},topic:{bg:"bg-amber-100",color:"text-amber-600"}};function l({activities:e}){return(0,t.jsxs)(i.default,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),0===e.length?(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"No recent activity. Start by adding topics and curating content."}):(0,t.jsx)("div",{className:"space-y-4",children:e.map((e,r)=>{let s=n[e.type]||n.curated;return(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded-full ${s.bg} flex items-center justify-center shrink-0 mt-0.5`,children:(0,t.jsx)("div",{className:`w-2 h-2 rounded-full ${s.color.replace("text-","bg-")}`})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-0.5",children:e.time})]})]},r)})})]})}var d=e.i(51156),o=e.i(14972);function c(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/36e5);if(r<1)return"Just now";if(r<24)return`${r}h ago`;let s=Math.floor(r/24);return s<7?`${s}d ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function u(){let{stats:e,activities:s,loading:i}=function(){let{supabase:e,user:t}=(0,o.useUser)(),[r,s]=(0,d.useState)([]),[a,i]=(0,d.useState)([]),[n,l]=(0,d.useState)(!0),[u,h]=(0,d.useState)(null);return(0,d.useEffect)(()=>{if(!t)return;let r=!0;return(async()=>{try{let[a,n,l,d]=await Promise.all([e.from("topics").select("*",{count:"exact",head:!0}).eq("user_id",t.id),e.from("articles").select("*",{count:"exact",head:!0}).eq("user_id",t.id),e.from("drafts").select("*",{count:"exact",head:!0}).eq("user_id",t.id),e.from("drafts").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("status","published")]);if(!r)return;let o=l.count??0,u=d.count??0;s([{label:"Monitored Topics",value:String(a.count??0),change:"active monitoring",changeType:"neutral"},{label:"Curated Articles",value:String(n.count??0),change:"total curated",changeType:"up"},{label:"Drafts Generated",value:String(o),change:`${o-u} in progress`,changeType:"neutral"},{label:"Published",value:String(u),change:"total published",changeType:"up"}]);let m=[],{data:g}=await e.from("topics").select("name, created_at").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(3);if(!r)return;(g||[]).forEach(e=>{m.push({type:"topic",message:`Topic added: ${e.name}`,time:c(e.created_at)})});let{data:x}=await e.from("articles").select("title, created_at").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(3);if(!r)return;(x||[]).forEach(e=>{m.push({type:"curated",message:`Article curated: ${e.title}`,time:c(e.created_at)})});let{data:p}=await e.from("drafts").select("title, status, updated_at").eq("user_id",t.id).order("updated_at",{ascending:!1}).limit(3);if(!r)return;(p||[]).forEach(e=>{m.push({type:"published"===e.status?"published":"draft",message:`${"published"===e.status?"Published":"Draft"}: ${e.title}`,time:c(e.updated_at)})}),i(m.slice(0,8)),h(null)}catch(e){if(!r)return;h(e instanceof Error?e.message:"Failed to load stats")}finally{r&&l(!1)}})(),()=>{r=!1}},[e,t]),{stats:r,activities:a,loading:n,error:u}}();return i?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,t.jsx)("div",{className:"h-32 bg-gray-100 rounded-2xl animate-pulse"},e))}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2 h-64 bg-gray-100 rounded-xl animate-pulse"}),(0,t.jsx)("div",{className:"h-64 bg-gray-100 rounded-xl animate-pulse"})]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(e=>(0,t.jsx)(a,{...e},e.label))}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(l,{activities:s})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(r.default,{href:"/dashboard/feed",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-indigo-50 rounded-lg flex items-center justify-center group-hover:bg-indigo-100 transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Run AI Curation"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Scan sources for new content"})]})]}),(0,t.jsxs)(r.default,{href:"/dashboard/drafts",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center group-hover:bg-purple-100 transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Generate Draft"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Create a new AI-written draft"})]})]}),(0,t.jsxs)(r.default,{href:"/dashboard/topics",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-amber-50 rounded-lg flex items-center justify-center group-hover:bg-amber-100 transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Add Topic"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Monitor a new subject area"})]})]})]})]})]})]})}e.s(["default",()=>u],57572)}]);