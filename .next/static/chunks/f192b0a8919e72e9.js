(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14972,e=>{"use strict";var t=e.i(51156),s=e.i(60456);function r(){let e=(0,t.useMemo)(()=>(0,s.createBrowserSupabaseClient)(),[]),[r,l]=(0,t.useState)(null),[a,i]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{e.auth.getUser().then(({data:e})=>{l(e.user),i(!1)});let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{l(t?.user??null)});return()=>t.unsubscribe()},[e]),{supabase:e,user:r,loading:a}}e.s(["useUser",()=>r])},21839,e=>{"use strict";e.s(["DRAFT_STATUS_MAP",0,{draft:{variant:"default",label:"Draft"},review:{variant:"warning",label:"In Review"},scheduled:{variant:"info",label:"Scheduled"},published:{variant:"success",label:"Published"}},"INTEREST_OPTIONS",0,["Technology","Business","Creator","Marketing","Finance","AI & ML","Design","Startup"],"PLATFORM_META",0,{beehiiv:{label:"Beehiiv",description:"Connect your Beehiiv account to publish directly",color:"bg-amber-500"},substack:{label:"Substack",description:"Publish newsletters to your Substack",color:"bg-orange-500"},kit:{label:"Kit (ConvertKit)",description:"Send newsletters via Kit email platform",color:"bg-blue-500"}},"TIMING",0,{DEBOUNCE_MS:2e3,SAVE_DISPLAY_MS:2e3,RSS_CACHE_SEC:3600}])},7,e=>{"use strict";var t=e.i(40404),s=e.i(51156),r=e.i(90498),l=e.i(14972),a=e.i(21839);function i(){let{supabase:e,user:i}=(0,l.useUser)(),n=(0,r.useRouter)(),[o,d]=(0,s.useState)(""),[c,u]=(0,s.useState)([]),[m,h]=(0,s.useState)(!1),[x,b]=(0,s.useState)(""),g=async t=>{if(t.preventDefault(),0===c.length)return void b("Please select at least one interest.");if(!i)return;h(!0),b("");let{error:s}=await e.from("profiles").update({newsletter_name:o||null,interests:c}).eq("id",i.id);if(s){b("Failed to save profile. Please try again."),h(!1);return}n.push("/dashboard")};return(0,t.jsx)("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center px-4",children:(0,t.jsxs)("div",{className:"w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,t.jsx)("span",{className:"text-white text-2xl font-bold",children:"LF"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome to LetterFlow!"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Let's personalize your experience. This helps us curate the best content for your newsletter."})]}),(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:(0,t.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Newsletter Name"," ",(0,t.jsx)("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g. The Weekly Byte"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Interests"," ",(0,t.jsx)("span",{className:"text-gray-400 font-normal",children:"(select at least 1)"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:a.INTEREST_OPTIONS.map(e=>{let s=c.includes(e);return(0,t.jsxs)("button",{type:"button",onClick:()=>{u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3.5 py-2 rounded-full text-sm font-medium transition-all cursor-pointer ${s?"bg-indigo-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s&&(0,t.jsx)("svg",{className:"w-3.5 h-3.5 inline mr-1 -mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}),e]},e)})})]}),x&&(0,t.jsx)("p",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:x}),(0,t.jsx)("button",{type:"submit",disabled:m||0===c.length,className:"w-full px-4 py-3 bg-gradient-to-r from-indigo-600 to-violet-600 text-white font-semibold rounded-xl text-sm hover:from-indigo-700 hover:to-violet-700 transition-all shadow-md shadow-indigo-200 disabled:opacity-50 cursor-pointer",children:m?"Saving...":"Get Started"})]})})]})})}e.s(["default",()=>i])}]);