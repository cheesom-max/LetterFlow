---
name: phase1
description: "기획 Phase 전체 파이프라인. researcher → evaluator → mvp-spec-writer를 순차 실행하여 키워드에서 mvp_spec.md까지 자동 생성합니다."
argument-hint: "[키워드 (예: 교육, fintech, healthcare)]"
disable-model-invocation: true
---

기획 Phase 전체 파이프라인을 실행합니다. 키워드에서 시작하여 MVP 기획서까지 자동으로 생성합니다.

## 입력 키워드
$ARGUMENTS

## 실행 순서 (3단계)

### Stage 1/3: 아이디어 리서치 (ai-solo-biz-researcher)

사용자에게 "Stage 1/3 시작: 아이디어 리서치..." 안내

Task 도구를 사용하여 `ai-solo-biz-researcher` 에이전트에게 다음 작업을 위임하세요:

> 다음 키워드를 기반으로 AI 1인 사업 아이디어 리서치를 수행하세요.
> 키워드: $ARGUMENTS
> 트렌드 조사와 논문/리포트 조사를 철저히 수행하고, 10개의 아이디어를 raw_ideas.md로 저장하세요.
> 반드시 실제 웹 검색을 수행하여 최신 정보를 기반으로 아이디어를 도출하세요.
> 모든 아이디어에는 출처(URL 또는 논문명)가 반드시 포함되어야 합니다.

Stage 1 완료 후 **품질 게이트**:
1. Read 도구로 raw_ideas.md가 존재하는지 확인
2. 파일이 없거나 비어있으면 사용자에게 보고하고 중단
3. `### 아이디어` 패턴을 Grep으로 카운트하여 아이디어 수 확인
4. 아이디어가 7개 미만이면 사용자에게 "아이디어가 N개만 생성되었습니다. 계속 진행할까요, 키워드를 바꿔서 재시도할까요?" 확인
5. 통과하면 사용자에게 "Stage 1 완료: raw_ideas.md에 N개 아이디어 생성" 안내

---

### Stage 2/3: 아이디어 평가 (ai-biz-idea-evaluator)

사용자에게 "Stage 2/3 시작: 아이디어 평가..." 안내

Task 도구를 사용하여 `ai-biz-idea-evaluator` 에이전트에게 다음 작업을 위임하세요:

> raw_ideas.md 파일을 읽고 AI 1인 사업 아이디어를 평가하세요.
> 각 아이디어에 대해 수요 검증 웹 리서치를 수행하고, 5점 매트릭스(수요 강도, 경쟁 공백, 1인 실현성, 수익화 용이성, 성장 잠재력)로 채점하세요.
> TOP 3를 선정하고 상세 프로파일을 작성하여 결과를 final_ideas.md로 저장하세요.

Stage 2 완료 후 **품질 게이트**:
1. Read 도구로 final_ideas.md가 존재하는지 확인
2. 파일이 없거나 비어있으면 사용자에게 보고하고 중단
3. `## 1위:` 이후의 총점을 읽어 1위 점수 확인
4. 1위 아이디어의 총점이 15/25 미만이면 사용자에게 경고: "1위 아이디어도 15점 미만입니다. 다른 키워드로 재시도를 권장합니다. 그래도 진행할까요?"
5. 통과하면 사용자에게 TOP 3 아이디어 제목과 총점을 보여주고 "어떤 아이디어로 MVP 기획서를 작성할까요? (기본: 1위)" 확인

---

### Stage 3/3: MVP 기획서 작성 (mvp-spec-writer)

사용자에게 "Stage 3/3 시작: MVP 기획서 작성..." 안내

사용자가 선택한 아이디어 순위(또는 기본 1위)를 사용하여, Task 도구로 `mvp-spec-writer` 에이전트에게 다음 작업을 위임하세요:

> final_ideas.md에서 [N]위 아이디어를 선택하여 상세 MVP 기획서를 작성하세요.
> 페르소나, 기능 명세 (P0/P1/P2), 기술 스택, 데이터 모델, API 설계, 사용자 플로우, 개발 로드맵, 비용 추정을 포함한 mvp_spec.md를 생성하세요.

Stage 3 완료 후 **품질 게이트**:
1. Read 도구로 mvp_spec.md가 존재하는지 확인
2. 필수 섹션 존재 확인: `## 3. 기능 명세`, `## 4. 기술 스택`, `## 5. 데이터 모델` 패턴이 모두 있는지 Grep 확인
3. 하나라도 없으면 사용자에게 "기획서에 필수 섹션이 누락되었습니다. 재생성을 시도할까요?" 확인

---

### 완료 보고

모든 Stage가 완료되면 사용자에게 보고:
- 리서치 키워드
- raw_ideas.md 아이디어 수
- 선택된 아이디어 제목과 점수
- mvp_spec.md 핵심 요약 (기술 스택, P0 기능 수, 예상 개발 기간)
- 다음 단계 안내:
  - `/build-phase` — 제품 코드 빌드 + 리뷰 + 수정
  - `landing-page-builder` — 랜딩페이지 생성
  - `gtm-strategist` — GTM 전략 수립

## 중요 규칙
- 반드시 Stage 1 → 2 → 3 순서를 지키세요. 동시에 실행하지 마세요.
- 각 Stage 사이에 품질 게이트를 반드시 실행하세요.
- 에러 발생 시 사용자에게 명확히 보고하고, 재시도 또는 중단을 선택하게 하세요.
- 사용자가 재시도를 선택하면 해당 Stage만 재실행하세요 (이전 Stage 결과는 유지).
